{"version":3,"sources":["webpack:///./js/components/RelicSearchPage.jsx","webpack:///./js/store/relicsStatsStore.jsx"],"names":["useState","relicsStatsStore","initialState","relicsStats","setRelicsStats","useLayoutEffect","relicSubscription","subscribe","init","unsubscribe","RelicForm","React","lazy","RelicTable","Suspense","fallback","newValue","setRelicsList","data","relics","isLoading","subject","Subject","state","next","setState","newList","setLoadingState","newState"],"mappings":"4hBAAA,O,WAEA,O,6DAEwB,WAAM,OACY,IAAAA,UAASC,UAAiBC,cADtC,SACnBC,EADmB,KACNC,EADM,MAG1B,IAAAC,kBAAgB,WACZ,IAAMC,EAAoBL,UAAiBM,UAAUH,GAErD,OADAH,UAAiBO,OACV,WACHF,EAAkBG,iBAEvB,IAEH,IAIMC,EAAYC,UAAMC,MAAK,kBAAM,iEAC7BC,EAAaF,UAAMC,MAAK,kBAAM,4DAEpC,OACI,mCACI,wBAAC,EAAAE,SAAD,CAAUC,SAAU,iDAChB,wBAACL,EAAD,CAAWN,eAVG,SAACY,GACvBf,UAAiBgB,cAAcD,MAUvB,wBAACH,EAAD,CAAYK,KAAMf,EAAYgB,OAAQC,UAAWjB,EAAYiB,gB,yPCxBvEC,EAAU,IAFhB,MAEoBC,SAEdpB,EAAe,CACjBiB,OAAQ,GACRC,WAAW,GAEXG,EAAQrB,EAEND,EAAmB,CACrBO,KAAM,kBAAMa,EAAQG,KAAKD,IACzBhB,UAAW,SAAAkB,GAAA,OAAYJ,EAAQd,UAAUkB,IACzChB,YAAa,kBAAMY,EAAQZ,eAC3BQ,cAAe,SAAAS,GACXH,OACOA,EADP,CAEIJ,OAAQO,IAEZL,EAAQG,KAAKD,IAEjBI,gBAAiB,SAAAC,GACbL,OACOA,EADP,CAEIH,UAAWQ,IAEfP,EAAQG,KAAKD,IAEjBrB,gB,UAGWD","file":"8.bundle.js","sourcesContent":["import React, {Suspense, useLayoutEffect, useState} from 'react';\r\n\r\nimport relicsStatsStore from \"../store/relicsStatsStore\";\r\n\r\nconst RelicSearchPage = () => {\r\n    const [relicsStats, setRelicsStats] = useState(relicsStatsStore.initialState);\r\n\r\n    useLayoutEffect(() => {\r\n        const relicSubscription = relicsStatsStore.subscribe(setRelicsStats);\r\n        relicsStatsStore.init();\r\n        return () => {\r\n            relicSubscription.unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n    const updateRelicsStats = (newValue) => {\r\n        relicsStatsStore.setRelicsList(newValue);\r\n    };\r\n\r\n    const RelicForm = React.lazy(() => import('./RelicForm'));\r\n    const RelicTable = React.lazy(() => import('./RelicTable'));\r\n\r\n    return (\r\n        <div>\r\n            <Suspense fallback={<div>Loading..</div>}>\r\n                <RelicForm setRelicsStats={updateRelicsStats}/>\r\n                <RelicTable data={relicsStats.relics} isLoading={relicsStats.isLoading}/>\r\n            </Suspense>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default RelicSearchPage;","import {Subject} from 'rxjs';\r\n\r\nconst subject = new Subject();\r\n\r\nconst initialState = {\r\n    relics: [],\r\n    isLoading: true,\r\n};\r\nlet state = initialState;\r\n\r\nconst relicsStatsStore = {\r\n    init: () => subject.next(state),\r\n    subscribe: setState => subject.subscribe(setState),\r\n    unsubscribe: () => subject.unsubscribe(),\r\n    setRelicsList: newList => {\r\n        state = {\r\n            ...state,\r\n            relics: newList,\r\n        };\r\n        subject.next(state);\r\n    },\r\n    setLoadingState: newState => {\r\n        state = {\r\n            ...state,\r\n            isLoading: newState,\r\n        };\r\n        subject.next(state);\r\n    },\r\n    initialState\r\n};\r\n\r\nexport default relicsStatsStore;"],"sourceRoot":""}